compare_chart=function(){var t={};return t.init=function(){t.$compareChart=$$(".content").getElement(".compare-chart")[0],t.data=JSON.parse('[{"time": 1, "value": 0.03}, {"time": 2, "value": 0.035}, {"time": 3, "value": 0.045000000000000005}, {"time": 4, "value": 0.065}, {"time": 5, "value": 0.125}, {"time": 6, "value": 0.15000000000000002}, {"time": 7, "value": 0.15000000000000002}, {"time": 8, "value": 0.55}, {"time": 9, "value": 0.45}, {"time": 10, "value": 0.33999999999999997}]');for(var a in t.data)t.data.hasOwnProperty(a)&&console.log(a);var r=Raphael(t.$compareChart,600,480),o=r.circle(50,40,10);o.attr("fill","#f00"),o.attr("stroke","#fff")},window.addEvent("domready",function(){t.init()}),t}(),Raphael.fn.drawGrid=function(t,a,r,o,n,e,h){h=h||"#000";for(var i=["M",Math.round(t)+.5,Math.round(a)+.5,"L",Math.round(t+r)+.5,Math.round(a)+.5,Math.round(t+r)+.5,Math.round(a+o)+.5,Math.round(t)+.5,Math.round(a+o)+.5,Math.round(t)+.5,Math.round(a)+.5],u=o/e,d=r/n,l=1;e>l;l++)i=i.concat(["M",Math.round(t)+.5,Math.round(a+l*u)+.5,"H",Math.round(t+r)+.5]);for(l=1;n>l;l++)i=i.concat(["M",Math.round(t+l*d)+.5,Math.round(a)+.5,"V",Math.round(a+o)+.5]);return this.path(i.join(",")).attr({stroke:h})},$(function(){$("#data").css({position:"absolute",left:"-9999em",top:"-9999em"})}),window.onload=function(){function t(t,a,r,o,n,e){var h=(r-t)/2,i=(n-r)/2,u=Math.atan((r-t)/Math.abs(o-a)),d=Math.atan((n-r)/Math.abs(o-e));u=o>a?Math.PI-u:u,d=o>e?Math.PI-d:d;var l=Math.PI/2-(u+d)%(2*Math.PI)/2,f=h*Math.sin(l+u),c=h*Math.cos(l+u),s=i*Math.sin(l+d),p=i*Math.cos(l+d);return{x1:r-f,y1:o+c,x2:r+s,y2:o+p}}var a=[],r=[];$("#data tfoot th").each(function(){a.push($(this).html())}),$("#data tbody td").each(function(){r.push($(this).html())});var o=800,n=250,e=30,h=20,i=20,u=.6,d="hsl("+[u,.5,.5]+")",l=Raphael("holder",o,n),f={font:"12px Helvetica, Arial",fill:"#fff"},c={font:"10px Helvetica, Arial",fill:"#fff"},s=(o-e)/a.length,p=Math.max.apply(Math,r),M=(n-h-i)/p;l.drawGrid(e+.5*s+.5,i+.5,o-e-s,n-i-h,10,10,"#000");var m,v=l.path().attr({stroke:d,"stroke-width":4,"stroke-linejoin":"round"}),x=l.path().attr({stroke:"none",opacity:.3,fill:d}),y=l.set(),w=0,k=0,g=!1,b=l.set();y.push(l.text(60,12,"24 hits").attr(f)),y.push(l.text(60,27,"22 September 2008").attr(c).attr({fill:d})),y.hide();for(var P,C,F=l.popup(100,100,y,"right").attr({fill:"#000",stroke:"#666","stroke-width":2,"fill-opacity":.7}).hide(),I=0,R=a.length;R>I;I++){{var B=Math.round(n-h-M*r[I]),H=Math.round(e+s*(I+.5));l.text(H,n-6,a[I]).attr(f).toBack()}if(I||(P=["M",H,B,"C",H,B],C=["M",e+.5*s,n-h,"L",H,B,"C",H,B]),I&&R-1>I){var L=Math.round(n-h-M*r[I-1]),S=Math.round(e+s*(I-.5)),j=Math.round(n-h-M*r[I+1]),A=Math.round(e+s*(I+1.5)),E=t(S,L,H,B,A,j);P=P.concat([E.x1,E.y1,H,B,E.x2,E.y2]),C=C.concat([E.x1,E.y1,H,B,E.x2,E.y2])}var G=l.circle(H,B,4).attr({fill:"#333",stroke:d,"stroke-width":2});b.push(l.rect(e+s*I,0,s,n-h).attr({stroke:"none",fill:"#fff",opacity:0}));var O=b[b.length-1];!function(t,a,r,n,e){O.hover(function(){clearTimeout(m);var h="right";t+F.getBBox().width>o&&(h="left");var i=l.popup(t,a,y,h,1),u=Raphael.animation({path:i.path,transform:["t",i.dx,i.dy]},200*g);w=y[0].transform()[0][1]+i.dx,k=y[0].transform()[0][2]+i.dy,F.show().stop().animate(u),y[0].attr({text:r+" hit"+(1==r?"":"s")}).show().stop().animateWith(F,u,{transform:["t",w,k]},200*g),y[1].attr({text:n+" September 2008"}).show().stop().animateWith(F,u,{transform:["t",w,k]},200*g),e.attr("r",6),g=!0},function(){e.attr("r",4),m=setTimeout(function(){F.hide(),y[0].hide(),y[1].hide(),g=!1},1)})}(H,B,r[I],a[I],G)}P=P.concat([H,B,H,B]),C=C.concat([H,B,H,B,"L",H,n-h,"z"]),v.attr({path:P}),x.attr({path:C}),F.toFront(),y[0].toFront(),y[1].toFront(),b.toFront()};